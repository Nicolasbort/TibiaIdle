{"remainingRequest":"/home/nicolas/Desktop/TibiaIdle/client/node_modules/babel-loader/lib/index.js!/home/nicolas/Desktop/TibiaIdle/client/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/home/nicolas/Desktop/TibiaIdle/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/nicolas/Desktop/TibiaIdle/client/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/nicolas/Desktop/TibiaIdle/client/src/App.vue?vue&type=template&id=7ba5bd90","dependencies":[{"path":"/home/nicolas/Desktop/TibiaIdle/client/src/App.vue","mtime":1618792984026},{"path":"/home/nicolas/Desktop/TibiaIdle/client/node_modules/cache-loader/dist/cjs.js","mtime":1616778770263},{"path":"/home/nicolas/Desktop/TibiaIdle/client/node_modules/babel-loader/lib/index.js","mtime":1616778770231},{"path":"/home/nicolas/Desktop/TibiaIdle/client/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1616778771303},{"path":"/home/nicolas/Desktop/TibiaIdle/client/node_modules/cache-loader/dist/cjs.js","mtime":1616778770263},{"path":"/home/nicolas/Desktop/TibiaIdle/client/node_modules/vue-loader-v16/dist/index.js","mtime":1616778771303}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSB9IGZyb20gInZ1ZSI7CnZhciBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAiY29udGFpbmVyIgp9OwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X0NhbnZhcyA9IF9yZXNvbHZlQ29tcG9uZW50KCJDYW52YXMiKTsKCiAgdmFyIF9jb21wb25lbnRfQWRtaW5QYW5lbCA9IF9yZXNvbHZlQ29tcG9uZW50KCJBZG1pblBhbmVsIik7CgogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSwgWyRkYXRhLnBsYXllcklkICYmICRkYXRhLmdhbWVTdGF0ZSA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X0NhbnZhcywgewogICAga2V5OiAwLAogICAgZ2FtZVN0YXRlOiAkZGF0YS5nYW1lU3RhdGUsCiAgICBwbGF5ZXJJZDogJGRhdGEucGxheWVySWQsCiAgICBvbkNsaWVudEtleVByZXNzZWQ6ICRvcHRpb25zLmNsaWVudEtleVByZXNzZWQKICB9LCBudWxsLCA4CiAgLyogUFJPUFMgKi8KICAsIFsiZ2FtZVN0YXRlIiwgInBsYXllcklkIiwgIm9uQ2xpZW50S2V5UHJlc3NlZCJdKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X0FkbWluUGFuZWwsIHsKICAgIG9uQWRkRW5lbXk6ICRvcHRpb25zLmFkZEVuZW15CiAgfSwgbnVsbCwgOAogIC8qIFBST1BTICovCiAgLCBbIm9uQWRkRW5lbXkiXSldKTsKfQ=="},{"version":3,"sources":["/home/nicolas/Desktop/TibiaIdle/client/src/App.vue"],"names":[],"mappings":";;AACS,EAAA,KAAK,EAAC;;;;;;;uBAAX,YAAA,CAIM,KAJN,EAAA,UAAA,EAIM,CAHY,KAAA,CAAA,QAAA,IAAY,KAAA,CAAA,S,kBAA1B,YAAA,CAAwH,iBAAxH,EAAwH;UAAA;AAAlF,IAAA,SAAS,EAAE,KAAA,CAAA,SAAuE;AAA3D,IAAA,QAAQ,EAAE,KAAA,CAAA,QAAiD;AAAtC,IAAA,kBAAgB,EAAE,QAAA,CAAA;AAAoB,GAAxH,E,IAAA,E;;AAAA,I,+CAAA,C,qCAGE,EADF,YAAA,CAAmC,qBAAnC,EAAmC;AAAtB,IAAA,UAAQ,EAAE,QAAA,CAAA;AAAY,GAAnC,EAA+B,IAA/B,EAA+B;AAAA;AAA/B,IAA+B,CAAA,YAAA,CAA/B,CACE,CAJN,C","sourcesContent":["<template>\n    <div class=\"container\">\n        <Canvas v-if=\"playerId && gameState\" :gameState=\"gameState\" :playerId=\"playerId\" @clientKeyPressed=\"clientKeyPressed\" />\n\n        <AdminPanel @addEnemy=\"addEnemy\" />\n    </div>\n</template>\n\n<script>\nimport io from \"socket.io-client\"\n\nimport Canvas from './components/Canvas'\nimport AdminPanel from './components/AdminPanel'\n\nexport default {\n    name: 'App',\n\n    data() {\n        return {\n            socket: {},\n\n            playerId: null,\n\n            gameState: null,\n        }\n    },\n    \n    components: {\n        Canvas,\n        AdminPanel\n    },\n\n    created() {\n        this.initSocket();\n    },\n\n    methods: {\n\n        initSocket() {\n            this.socket = io(\"http://localhost:3000\", {transports:['websocket'], upgrade: false});\n\n            this.socket.on(\"connect\", () => {\n                this.playerId = this.socket.id\n                console.log(\"Connected! \", this.playerId);\n            })\n\n            this.socket.on(\"GAME_STATE\", state => {\n                console.log(\"GAME_STATE\", state);\n                this.gameState = state\n            });\n\n            this.socket.on(\"PLAYER_MOVE\", command => {\n                this.gameState.players[command.playerId].position = command.position\n                this.gameState.players[command.playerId].cam      = command.camera\n            })\n\n            this.socket.on(\"ADD_ENEMY\", command => {\n                console.log('ADD_ENEMY', command)\n                this.gameState.enemies[command.enemyId] = command.enemy\n            })\n\n            this.socket.on(\"ADD_PLAYER\", command => {\n                console.log(\"ADD_PLAYER\", command);\n                this.gameState.players[command.playerId] = command.player\n            })\n\n\n            this.socket.on(\"REMOVE_ENEMY\", command => {\n                console.log(\"REMOVE ENEMY\", command);\n                delete this.gameState.enemies[command.enemyId]\n            })\n\n\n            this.socket.on(\"REMOVE_PLAYER\", command => {\n                console.log(\"REMOVE_PLAYER\", command);\n                delete this.gameState.players[command.playerId]\n            })\n        },\n\n        clientKeyPressed(key) {\n            this.socket.emit(\"CLIENT_KEYPRESSED\", key);\n        },\n\n        addEnemy() {\n            this.socket.emit(\"ADMIN_ADD_ENEMY\");\n        }\n\n    }\n}\n</script>\n"],"sourceRoot":""}]}