{"remainingRequest":"/home/nicolas/Desktop/socket_io/client/node_modules/babel-loader/lib/index.js!/home/nicolas/Desktop/socket_io/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/nicolas/Desktop/socket_io/client/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/nicolas/Desktop/socket_io/client/src/components/ComponentCanvas.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/nicolas/Desktop/socket_io/client/src/components/ComponentCanvas.vue","mtime":1616607226764},{"path":"/home/nicolas/Desktop/socket_io/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/nicolas/Desktop/socket_io/client/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/nicolas/Desktop/socket_io/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/nicolas/Desktop/socket_io/client/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIi9ob21lL25pY29sYXMvRGVza3RvcC9zb2NrZXRfaW8vY2xpZW50L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5IjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvaG9tZS9uaWNvbGFzL0Rlc2t0b3Avc29ja2V0X2lvL2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9ob21lL25pY29sYXMvRGVza3RvcC9zb2NrZXRfaW8vY2xpZW50L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5lbnRyaWVzLmpzIjsKaW1wb3J0IGlvIGZyb20gInNvY2tldC5pby1jbGllbnQiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NvbXBvbmVudENhbnZhcycsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNvY2tldDoge30sCiAgICAgIHBsYXllcjoge30sCiAgICAgIGVuZW15OiB7fSwKICAgICAgdHVybjogMAogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnNvY2tldCA9IGlvKCJodHRwOi8vbG9jYWxob3N0OjMwMDAiLCB7CiAgICAgIHRyYW5zcG9ydHM6IFsnd2Vic29ja2V0J10KICAgIH0pOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5zb2NrZXQub24oInVwZGF0ZSIsIGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIF90aGlzLnBsYXllciA9IGRhdGEucGxheWVyOwogICAgICBfdGhpcy5lbmVteSA9IGRhdGEuZW5lbXk7CiAgICAgIF90aGlzLnR1cm4gPSBkYXRhLmdsb2JhbFR1cm5zOwogICAgfSk7CgogICAgdmFyIEVudGl0eSA9IGZ1bmN0aW9uIEVudGl0eShwbGF5ZXJJZCwgeCwgeSwgd2lkdGgsIGhlaWdodCwgc3ByaXRlLCBjYW0pIHsKICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEVudGl0eSk7CgogICAgICB0aGlzLnBsYXllcklkID0gcGxheWVySWQ7CiAgICAgIHRoaXMueCA9IHg7CiAgICAgIHRoaXMueSA9IHk7CiAgICAgIHRoaXMud2lkdGggPSB3aWR0aDsKICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7CiAgICAgIHRoaXMuc3ByaXRlID0gc3ByaXRlOwogICAgICB0aGlzLmNhbSA9IHsKICAgICAgICB4OiBjYW0ueCwKICAgICAgICB5OiBjYW0ueQogICAgICB9OwogICAgfTsKCiAgICB2YXIgRW50aXR5TGlzdERpY3QgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICBmdW5jdGlvbiBFbnRpdHlMaXN0RGljdCgpIHsKICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRW50aXR5TGlzdERpY3QpOwoKICAgICAgICB0aGlzLmVudGl0aWVzID0gewogICAgICAgICAgcGxheWVyczoge30KICAgICAgICB9OwogICAgICB9CgogICAgICBfY3JlYXRlQ2xhc3MoRW50aXR5TGlzdERpY3QsIFt7CiAgICAgICAga2V5OiAiYWRkIiwKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYWRkKGVudGl0eSkgewogICAgICAgICAgdGhpcy5lbnRpdGllcy5wbGF5ZXJzW2VudGl0eS5wbGF5ZXJJZF0gPSBlbnRpdHk7CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAga2V5OiAicmVtb3ZlIiwKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlKGVudGl0eUlkKSB7CiAgICAgICAgICBkZWxldGUgdGhpcy5lbnRpdGllcy5wbGF5ZXJzW2VudGl0eUlkXTsKICAgICAgICB9CiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJlbml0aXR5RXhpc3RpcyIsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGVuaXRpdHlFeGlzdGlzKGVudGl0eSkgewogICAgICAgICAgaWYgKGVudGl0eS5wbGF5ZXJJZCBpbiB0aGlzLmVudGl0aWVzLnBsYXllcnMpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfSwgewogICAgICAgIGtleTogInByaW50IiwKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcHJpbnQoKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmVudGl0aWVzLnBsYXllcnMpOwogICAgICAgIH0KICAgICAgfV0pOwoKICAgICAgcmV0dXJuIEVudGl0eUxpc3REaWN0OwogICAgfSgpOwoKICAgIHRoaXMuc29ja2V0Lm9uKCdjb25uZWN0JywgZnVuY3Rpb24gKCkgewogICAgICB2YXIgcGxheWVySWQgPSBfdGhpcy5zb2NrZXQuaWQ7CiAgICAgIGNvbnNvbGUubG9nKCI+IENvbm5lY3RlZCB0byBTZXJ2ZXI6ICIsIHBsYXllcklkKTsKICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2NhbnZhcycpOwogICAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgICB2YXIgZW50aXR5TGlzdCA9IG5ldyBFbnRpdHlMaXN0RGljdCgpOwogICAgICBlbnRpdHlMaXN0LnByaW50KCk7IC8vIHZhciBiYWNrZ3JvdW5kID0gbmV3IEltYWdlKCk7CiAgICAgIC8vIGJhY2tncm91bmQuc3JjID0gcmVxdWlyZSgnLi4vYXNzZXRzL21hcC5wbmcnKTsKICAgICAgLy8gdmFyIGdhbWVfd29ybGQgID0gbmV3IEVudGl0eShudWxsLCAwLCAwLCA1OTUsIDU5NSwgYmFja2dyb3VuZCwge3g6MCwgeTowfSk7CgogICAgICB2YXIgY2FtID0gewogICAgICAgIHg6IDAsCiAgICAgICAgeTogMCwKICAgICAgICB3aWR0aDogY2FudmFzLndpZHRoLAogICAgICAgIGhlaWdodDogY2FudmFzLmhlaWdodCwKICAgICAgICBsZWZ0X2VkZ2U6IGZ1bmN0aW9uIGxlZnRfZWRnZSgpIHsKICAgICAgICAgIHJldHVybiB0aGlzLnggKyB0aGlzLndpZHRoICogMC4yNTsKICAgICAgICB9LAogICAgICAgIHJpZ2h0X2VkZ2U6IGZ1bmN0aW9uIHJpZ2h0X2VkZ2UoKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy54ICsgdGhpcy53aWR0aCAqIDAuNzU7CiAgICAgICAgfSwKICAgICAgICB0b3BfZWRnZTogZnVuY3Rpb24gdG9wX2VkZ2UoKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy55ICsgdGhpcy5oZWlnaHQgKiAwLjI1OwogICAgICAgIH0sCiAgICAgICAgYm90X2VkZ2U6IGZ1bmN0aW9uIGJvdF9lZGdlKCkgewogICAgICAgICAgcmV0dXJuIHRoaXMueSArIHRoaXMuaGVpZ2h0ICogMC43NTsKICAgICAgICB9CiAgICAgIH07IC8vIHNwcml0ZQogICAgICAvLyBlbnRpdHlMaXN0LmFkZChnYW1lX3dvcmxkKQoKICAgICAgdmFyIHRoYXQgPSBfdGhpczsKICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHZhciBrZXlQcmVzc2VkID0gZS5rZXk7CiAgICAgICAgdmFyIGNvbW1hbmQgPSB7CiAgICAgICAgICB0eXBlOiAnbW92ZS1wbGF5ZXInLAogICAgICAgICAgcGxheWVySWQ6IHBsYXllcklkLAogICAgICAgICAga2V5UHJlc3NlZDoga2V5UHJlc3NlZAogICAgICAgIH07CiAgICAgICAgdGhhdC5zb2NrZXQuZW1pdCgnbW92ZS1wbGF5ZXInLCBjb21tYW5kKTsKICAgICAgfSwgZmFsc2UpOwoKICAgICAgZnVuY3Rpb24gbG9vcCgpIHsKICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3AsIGNhbnZhcyk7CiAgICAgICAgcmVuZGVyKCk7CiAgICAgIH0KCiAgICAgIF90aGlzLnNvY2tldC5vbignc2V0dXAnLCBmdW5jdGlvbiAoY29tbWFuZCkgewogICAgICAgIHZhciBzcHJpdGVfY2hhciA9IG5ldyBJbWFnZSgpOwogICAgICAgIHNwcml0ZV9jaGFyLnNyYyA9IHJlcXVpcmUoJy4uL2Fzc2V0cy9pZGxlLnBuZycpOwogICAgICAgIHZhciBiYWNrZ3JvdW5kID0gbmV3IEltYWdlKCk7CiAgICAgICAgYmFja2dyb3VuZC5zcmMgPSByZXF1aXJlKCcuLi9hc3NldHMvbWFwLnBuZycpOwogICAgICAgIHZhciBnYW1lX3dvcmxkID0gbmV3IEVudGl0eShudWxsLCAwLCAwLCBjb21tYW5kLnNjZW5hcmlvLmltYWdlLndpZHRoLCBjb21tYW5kLnNjZW5hcmlvLmltYWdlLmhlaWdodCwgYmFja2dyb3VuZCwgewogICAgICAgICAgeDogMCwKICAgICAgICAgIHk6IDAKICAgICAgICB9KTsKICAgICAgICBlbnRpdHlMaXN0LmFkZChnYW1lX3dvcmxkKTsKICAgICAgICBPYmplY3Qua2V5cyhjb21tYW5kLnBsYXllcnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgICAgZW50aXR5TGlzdC5hZGQobmV3IEVudGl0eShrZXksIGNvbW1hbmQuc3RhdGUucGxheWVyc1trZXldLngsIGNvbW1hbmQuc3RhdGUucGxheWVyc1trZXldLnksIDE2LCAxNiwgc3ByaXRlX2NoYXIsIGNvbW1hbmQuc3RhdGUucGxheWVyc1trZXldLmNhbSkpOwogICAgICAgIH0pOwogICAgICB9KTsKCiAgICAgIF90aGlzLnNvY2tldC5vbignbW92ZS1wbGF5ZXInLCBmdW5jdGlvbiAoY29tbWFuZCkgewogICAgICAgIGNvbnNvbGUubG9nKGNvbW1hbmQpOwogICAgICAgIHVwZGF0ZVNwZWNpZmljUGxheWVyKGNvbW1hbmQucGxheWVySWQsIGNvbW1hbmQucG9zaXRpb24sIGNvbW1hbmQuY2FtKTsKICAgICAgfSk7CgogICAgICBfdGhpcy5zb2NrZXQub24oJ2FkZC1wbGF5ZXInLCBmdW5jdGlvbiAoY29tbWFuZCkgewogICAgICAgIGVudGl0eUxpc3QuYWRkKG5ldyBFbnRpdHkoY29tbWFuZC5wbGF5ZXJJZCwgY29tbWFuZC5wb3NpdGlvbi54LCBjb21tYW5kLnBvc2l0aW9uLnksIDE2LCAxNiwgc3ByaXRlX2NoYXIsIGNvbW1hbmQuY2FtKSk7CiAgICAgIH0pOwoKICAgICAgX3RoaXMuc29ja2V0Lm9uKCdyZW1vdmUtcGxheWVyJywgZnVuY3Rpb24gKGNvbW1hbmQpIHsKICAgICAgICBjb25zb2xlLmxvZygiPiBSZW1vdmluZyBQbGF5ZXIgIiwgY29tbWFuZC5wbGF5ZXJJZCk7CiAgICAgICAgZW50aXR5TGlzdC5yZW1vdmUoY29tbWFuZC5wbGF5ZXJJZCk7CiAgICAgIH0pOwoKICAgICAgZnVuY3Rpb24gdXBkYXRlU3BlY2lmaWNQbGF5ZXIocGxheWVySWQsIHBvc2l0aW9uLCBjYW0pIHsKICAgICAgICBlbnRpdHlMaXN0LmVudGl0aWVzLnBsYXllcnNbcGxheWVySWRdLnggPSBwb3NpdGlvbi54OwogICAgICAgIGVudGl0eUxpc3QuZW50aXRpZXMucGxheWVyc1twbGF5ZXJJZF0ueSA9IHBvc2l0aW9uLnk7CiAgICAgICAgZW50aXR5TGlzdC5lbnRpdGllcy5wbGF5ZXJzW3BsYXllcklkXS5jYW0ueCA9IGNhbS54OwogICAgICAgIGVudGl0eUxpc3QuZW50aXRpZXMucGxheWVyc1twbGF5ZXJJZF0uY2FtLnkgPSBjYW0ueTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gcmVuZGVyKCkgewogICAgICAgIGNvbnRleHQuc2F2ZSgpOwogICAgICAgIHZhciBwbGF5ZXJDYW0gPSBlbnRpdHlMaXN0LmVudGl0aWVzLnBsYXllcnNbcGxheWVySWRdLmNhbTsKICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZSgtcGxheWVyQ2FtLngsIC1wbGF5ZXJDYW0ueSk7CgogICAgICAgIGZvciAodmFyIF9pID0gMCwgX09iamVjdCRlbnRyaWVzID0gT2JqZWN0LmVudHJpZXMoZW50aXR5TGlzdC5lbnRpdGllcy5wbGF5ZXJzKTsgX2kgPCBfT2JqZWN0JGVudHJpZXMubGVuZ3RoOyBfaSsrKSB7CiAgICAgICAgICB2YXIgX09iamVjdCRlbnRyaWVzJF9pID0gX3NsaWNlZFRvQXJyYXkoX09iamVjdCRlbnRyaWVzW19pXSwgMiksCiAgICAgICAgICAgICAga2V5ID0gX09iamVjdCRlbnRyaWVzJF9pWzBdLAogICAgICAgICAgICAgIHZhbHVlID0gX09iamVjdCRlbnRyaWVzJF9pWzFdOwoKICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKHZhbHVlLnNwcml0ZSwgMCwgMCwgdmFsdWUud2lkdGgsIHZhbHVlLmhlaWdodCwgdmFsdWUueCwgdmFsdWUueSwgdmFsdWUud2lkdGgsIHZhbHVlLmhlaWdodCk7CiAgICAgICAgfQoKICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTsKICAgICAgfQoKICAgICAgbG9vcCgpOwogICAgfSk7CiAgfQp9Ow=="},{"version":3,"sources":["/home/nicolas/Desktop/socket_io/client/src/components/ComponentCanvas.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <canvas width=\"300\" height=\"300\">\n        Canvas not supported\n    </canvas>\n</template>\n\n<script>\n    import io from \"socket.io-client\"\n\n    export default {\n        name: 'ComponentCanvas',\n        data (){\n            return {\n                socket: {},\n                player: {},\n                enemy:  {},\n                turn: 0,\n            }\n        },\n        created() {\n            this.socket = io(\"http://localhost:3000\", {transports:['websocket']});\n        },\n        mounted() {\n\n            this.socket.on(\"update\", data => {\n                this.player = data.player;\n                this.enemy = data.enemy;\n                this.turn = data.globalTurns;\n            });\n\n            class Entity\n            {\n                constructor(playerId, x, y, width, height, sprite, cam)\n                {\n                    this.playerId = playerId;\n                    this.x = x;\n                    this.y = y;\n                    this.width = width;\n                    this.height = height;\n                    this.sprite = sprite\n                    this.cam = {\n                        x: cam.x,\n                        y: cam.y\n                    }\n                }\n            }\n\n\n\n            class EntityListDict\n            {\n                constructor()\n                {\n                    this.entities = {\n                        players: {}\n                    }\n                }\n\n                add(entity)\n                {\n                    this.entities.players[entity.playerId] = entity;\n                }\n\n                remove(entityId)\n                {\n                    delete this.entities.players[entityId];\n                }\n\n\n                enitityExistis(entity)\n                {\n                    if (entity.playerId in this.entities.players)\n                    {\n                        return true;\n                    }\n\n                    return false;\n                }\n\n                print()\n                {\n                    console.log(this.entities.players)\n                }\n            }\n\n            this.socket.on('connect', () => {\n                const playerId = this.socket.id\n                console.log(\"> Connected to Server: \", playerId);\n\n                var canvas = document.querySelector('canvas');\n                var context = canvas.getContext('2d');\n\n                var entityList = new EntityListDict();\n\n                entityList.print()\n\n                // var background = new Image();\n                // background.src = require('../assets/map.png');\n\n\n                // var game_world  = new Entity(null, 0, 0, 595, 595, background, {x:0, y:0});\n\n\n                var cam = {\n                    x: 0,\n                    y: 0,\n                    width: canvas.width,\n                    height: canvas.height,\n                    left_edge: function() {\n                        return this.x + (this.width * 0.25);   \n                    },\n                    right_edge: function() {\n                        return this.x + (this.width * 0.75);   \n                    },\n                    top_edge: function() {\n                        return this.y + (this.height * 0.25);   \n                    },\n                    bot_edge: function() {\n                        return this.y + (this.height * 0.75);   \n                    }\n                }\n\n\n                // sprite\n                // entityList.add(game_world)\n\n                var that = this\n                window.addEventListener('keydown', function(e){\n                    var keyPressed = e.key;\n\n                    const command = {\n                        type: 'move-player',\n                        playerId: playerId,\n                        keyPressed\n                    }\n\n                    that.socket.emit('move-player', command);\n\n                }, false);\n\n    \n\n                function loop(){\n                    window.requestAnimationFrame(loop, canvas);\n                    render();\n                }\n\n                this.socket.on('setup', (command) => {\n                        \n                    var sprite_char = new Image();\n                    sprite_char.src = require('../assets/idle.png');\n\n                    var background = new Image()\n                    background.src = require('../assets/map.png');\n\n                    var game_world  = new Entity(null, 0, 0, command.scenario.image.width, command.scenario.image.height, background, {x:0, y:0});\n                    entityList.add(game_world)\n\n                    Object.keys(command.players).forEach(function(key) {\n                        entityList.add(new Entity(key, command.state.players[key].x, command.state.players[key].y, 16, 16, sprite_char, command.state.players[key].cam))\n                    });\n                })\n\n\n                this.socket.on('move-player', (command) => {\n                    console.log(command)\n                    updateSpecificPlayer(command.playerId, command.position, command.cam)\n                });\n\n\n                this.socket.on('add-player', (command) => {\n                    entityList.add(new Entity(command.playerId, command.position.x, command.position.y, 16, 16, sprite_char, command.cam))\n                });\n\n                this.socket.on('remove-player', (command) => {\n                    console.log(\"> Removing Player \", command.playerId);\n                    entityList.remove(command.playerId)\n                });\n\n\n                function updateSpecificPlayer(playerId, position, cam){\n                    entityList.entities.players[playerId].x = position.x;\n                    entityList.entities.players[playerId].y = position.y;\n\n                    entityList.entities.players[playerId].cam.x = cam.x;\n                    entityList.entities.players[playerId].cam.y = cam.y;\n                }\n\n\n\n                function render()\n                {\n                    context.save();\n\n                    var playerCam = entityList.entities.players[playerId].cam;\n                    context.translate(-playerCam.x, -playerCam.y);\n\n                    for (const [key, value] of Object.entries(entityList.entities.players)) {\n                        context.drawImage(value.sprite, 0, 0, value.width, value.height, value.x, value.y, value.width, value.height);   \n                    }\n\n                    context.restore();\n                }\n\n                loop()\n            });\n\n\n\n\n        }\n\n    }\n</script>\n\n<style scoped></style>\n"],"sourceRoot":""}]}