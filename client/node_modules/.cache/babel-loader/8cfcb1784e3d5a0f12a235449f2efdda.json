{"remainingRequest":"/home/nicolas/Desktop/TibiaIdle/client/node_modules/babel-loader/lib/index.js!/home/nicolas/Desktop/TibiaIdle/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/nicolas/Desktop/TibiaIdle/client/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/nicolas/Desktop/TibiaIdle/client/src/App.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/nicolas/Desktop/TibiaIdle/client/src/App.vue","mtime":1618792984026},{"path":"/home/nicolas/Desktop/TibiaIdle/client/node_modules/cache-loader/dist/cjs.js","mtime":1616778770263},{"path":"/home/nicolas/Desktop/TibiaIdle/client/node_modules/babel-loader/lib/index.js","mtime":1616778770231},{"path":"/home/nicolas/Desktop/TibiaIdle/client/node_modules/cache-loader/dist/cjs.js","mtime":1616778770263},{"path":"/home/nicolas/Desktop/TibiaIdle/client/node_modules/vue-loader-v16/dist/index.js","mtime":1616778771303}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGlvIGZyb20gInNvY2tldC5pby1jbGllbnQiOwppbXBvcnQgQ2FudmFzIGZyb20gJy4vY29tcG9uZW50cy9DYW52YXMnOwppbXBvcnQgQWRtaW5QYW5lbCBmcm9tICcuL2NvbXBvbmVudHMvQWRtaW5QYW5lbCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQXBwJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc29ja2V0OiB7fSwKICAgICAgcGxheWVySWQ6IG51bGwsCiAgICAgIGdhbWVTdGF0ZTogbnVsbAogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIENhbnZhczogQ2FudmFzLAogICAgQWRtaW5QYW5lbDogQWRtaW5QYW5lbAogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuaW5pdFNvY2tldCgpOwogIH0sCiAgbWV0aG9kczogewogICAgaW5pdFNvY2tldDogZnVuY3Rpb24gaW5pdFNvY2tldCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuc29ja2V0ID0gaW8oImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMCIsIHsKICAgICAgICB0cmFuc3BvcnRzOiBbJ3dlYnNvY2tldCddLAogICAgICAgIHVwZ3JhZGU6IGZhbHNlCiAgICAgIH0pOwogICAgICB0aGlzLnNvY2tldC5vbigiY29ubmVjdCIsIGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5wbGF5ZXJJZCA9IF90aGlzLnNvY2tldC5pZDsKICAgICAgICBjb25zb2xlLmxvZygiQ29ubmVjdGVkISAiLCBfdGhpcy5wbGF5ZXJJZCk7CiAgICAgIH0pOwogICAgICB0aGlzLnNvY2tldC5vbigiR0FNRV9TVEFURSIsIGZ1bmN0aW9uIChzdGF0ZSkgewogICAgICAgIGNvbnNvbGUubG9nKCJHQU1FX1NUQVRFIiwgc3RhdGUpOwogICAgICAgIF90aGlzLmdhbWVTdGF0ZSA9IHN0YXRlOwogICAgICB9KTsKICAgICAgdGhpcy5zb2NrZXQub24oIlBMQVlFUl9NT1ZFIiwgZnVuY3Rpb24gKGNvbW1hbmQpIHsKICAgICAgICBfdGhpcy5nYW1lU3RhdGUucGxheWVyc1tjb21tYW5kLnBsYXllcklkXS5wb3NpdGlvbiA9IGNvbW1hbmQucG9zaXRpb247CiAgICAgICAgX3RoaXMuZ2FtZVN0YXRlLnBsYXllcnNbY29tbWFuZC5wbGF5ZXJJZF0uY2FtID0gY29tbWFuZC5jYW1lcmE7CiAgICAgIH0pOwogICAgICB0aGlzLnNvY2tldC5vbigiQUREX0VORU1ZIiwgZnVuY3Rpb24gKGNvbW1hbmQpIHsKICAgICAgICBjb25zb2xlLmxvZygnQUREX0VORU1ZJywgY29tbWFuZCk7CiAgICAgICAgX3RoaXMuZ2FtZVN0YXRlLmVuZW1pZXNbY29tbWFuZC5lbmVteUlkXSA9IGNvbW1hbmQuZW5lbXk7CiAgICAgIH0pOwogICAgICB0aGlzLnNvY2tldC5vbigiQUREX1BMQVlFUiIsIGZ1bmN0aW9uIChjb21tYW5kKSB7CiAgICAgICAgY29uc29sZS5sb2coIkFERF9QTEFZRVIiLCBjb21tYW5kKTsKICAgICAgICBfdGhpcy5nYW1lU3RhdGUucGxheWVyc1tjb21tYW5kLnBsYXllcklkXSA9IGNvbW1hbmQucGxheWVyOwogICAgICB9KTsKICAgICAgdGhpcy5zb2NrZXQub24oIlJFTU9WRV9FTkVNWSIsIGZ1bmN0aW9uIChjb21tYW5kKSB7CiAgICAgICAgY29uc29sZS5sb2coIlJFTU9WRSBFTkVNWSIsIGNvbW1hbmQpOwogICAgICAgIGRlbGV0ZSBfdGhpcy5nYW1lU3RhdGUuZW5lbWllc1tjb21tYW5kLmVuZW15SWRdOwogICAgICB9KTsKICAgICAgdGhpcy5zb2NrZXQub24oIlJFTU9WRV9QTEFZRVIiLCBmdW5jdGlvbiAoY29tbWFuZCkgewogICAgICAgIGNvbnNvbGUubG9nKCJSRU1PVkVfUExBWUVSIiwgY29tbWFuZCk7CiAgICAgICAgZGVsZXRlIF90aGlzLmdhbWVTdGF0ZS5wbGF5ZXJzW2NvbW1hbmQucGxheWVySWRdOwogICAgICB9KTsKICAgIH0sCiAgICBjbGllbnRLZXlQcmVzc2VkOiBmdW5jdGlvbiBjbGllbnRLZXlQcmVzc2VkKGtleSkgewogICAgICB0aGlzLnNvY2tldC5lbWl0KCJDTElFTlRfS0VZUFJFU1NFRCIsIGtleSk7CiAgICB9LAogICAgYWRkRW5lbXk6IGZ1bmN0aW9uIGFkZEVuZW15KCkgewogICAgICB0aGlzLnNvY2tldC5lbWl0KCJBRE1JTl9BRERfRU5FTVkiKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/home/nicolas/Desktop/TibiaIdle/client/src/App.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"container\">\n        <Canvas v-if=\"playerId && gameState\" :gameState=\"gameState\" :playerId=\"playerId\" @clientKeyPressed=\"clientKeyPressed\" />\n\n        <AdminPanel @addEnemy=\"addEnemy\" />\n    </div>\n</template>\n\n<script>\nimport io from \"socket.io-client\"\n\nimport Canvas from './components/Canvas'\nimport AdminPanel from './components/AdminPanel'\n\nexport default {\n    name: 'App',\n\n    data() {\n        return {\n            socket: {},\n\n            playerId: null,\n\n            gameState: null,\n        }\n    },\n    \n    components: {\n        Canvas,\n        AdminPanel\n    },\n\n    created() {\n        this.initSocket();\n    },\n\n    methods: {\n\n        initSocket() {\n            this.socket = io(\"http://localhost:3000\", {transports:['websocket'], upgrade: false});\n\n            this.socket.on(\"connect\", () => {\n                this.playerId = this.socket.id\n                console.log(\"Connected! \", this.playerId);\n            })\n\n            this.socket.on(\"GAME_STATE\", state => {\n                console.log(\"GAME_STATE\", state);\n                this.gameState = state\n            });\n\n            this.socket.on(\"PLAYER_MOVE\", command => {\n                this.gameState.players[command.playerId].position = command.position\n                this.gameState.players[command.playerId].cam      = command.camera\n            })\n\n            this.socket.on(\"ADD_ENEMY\", command => {\n                console.log('ADD_ENEMY', command)\n                this.gameState.enemies[command.enemyId] = command.enemy\n            })\n\n            this.socket.on(\"ADD_PLAYER\", command => {\n                console.log(\"ADD_PLAYER\", command);\n                this.gameState.players[command.playerId] = command.player\n            })\n\n\n            this.socket.on(\"REMOVE_ENEMY\", command => {\n                console.log(\"REMOVE ENEMY\", command);\n                delete this.gameState.enemies[command.enemyId]\n            })\n\n\n            this.socket.on(\"REMOVE_PLAYER\", command => {\n                console.log(\"REMOVE_PLAYER\", command);\n                delete this.gameState.players[command.playerId]\n            })\n        },\n\n        clientKeyPressed(key) {\n            this.socket.emit(\"CLIENT_KEYPRESSED\", key);\n        },\n\n        addEnemy() {\n            this.socket.emit(\"ADMIN_ADD_ENEMY\");\n        }\n\n    }\n}\n</script>\n"],"sourceRoot":""}]}