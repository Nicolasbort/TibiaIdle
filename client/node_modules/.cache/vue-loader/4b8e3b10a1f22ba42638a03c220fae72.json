{"remainingRequest":"/home/nicolas/Desktop/TibiaIdle/client/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/nicolas/Desktop/TibiaIdle/client/src/App.vue?vue&type=template&id=7ba5bd90","dependencies":[{"path":"/home/nicolas/Desktop/TibiaIdle/client/src/App.vue","mtime":1618792984026},{"path":"/home/nicolas/Desktop/TibiaIdle/client/node_modules/cache-loader/dist/cjs.js","mtime":1616778770263},{"path":"/home/nicolas/Desktop/TibiaIdle/client/node_modules/babel-loader/lib/index.js","mtime":1616778770231},{"path":"/home/nicolas/Desktop/TibiaIdle/client/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1616778771303},{"path":"/home/nicolas/Desktop/TibiaIdle/client/node_modules/cache-loader/dist/cjs.js","mtime":1616778770263},{"path":"/home/nicolas/Desktop/TibiaIdle/client/node_modules/vue-loader-v16/dist/index.js","mtime":1616778771303}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgICA8ZGl2IGNsYXNzPSJjb250YWluZXIiPgogICAgICAgIDxDYW52YXMgdi1pZj0icGxheWVySWQgJiYgZ2FtZVN0YXRlIiA6Z2FtZVN0YXRlPSJnYW1lU3RhdGUiIDpwbGF5ZXJJZD0icGxheWVySWQiIEBjbGllbnRLZXlQcmVzc2VkPSJjbGllbnRLZXlQcmVzc2VkIiAvPgoKICAgICAgICA8QWRtaW5QYW5lbCBAYWRkRW5lbXk9ImFkZEVuZW15IiAvPgogICAgPC9kaXY+Cg=="},{"version":3,"sources":["/home/nicolas/Desktop/TibiaIdle/client/src/App.vue"],"names":[],"mappings":";IACI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;;QAEvH,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACtC,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/home/nicolas/Desktop/TibiaIdle/client/src/App.vue","sourceRoot":"","sourcesContent":["<template>\n    <div class=\"container\">\n        <Canvas v-if=\"playerId && gameState\" :gameState=\"gameState\" :playerId=\"playerId\" @clientKeyPressed=\"clientKeyPressed\" />\n\n        <AdminPanel @addEnemy=\"addEnemy\" />\n    </div>\n</template>\n\n<script>\nimport io from \"socket.io-client\"\n\nimport Canvas from './components/Canvas'\nimport AdminPanel from './components/AdminPanel'\n\nexport default {\n    name: 'App',\n\n    data() {\n        return {\n            socket: {},\n\n            playerId: null,\n\n            gameState: null,\n        }\n    },\n    \n    components: {\n        Canvas,\n        AdminPanel\n    },\n\n    created() {\n        this.initSocket();\n    },\n\n    methods: {\n\n        initSocket() {\n            this.socket = io(\"http://localhost:3000\", {transports:['websocket'], upgrade: false});\n\n            this.socket.on(\"connect\", () => {\n                this.playerId = this.socket.id\n                console.log(\"Connected! \", this.playerId);\n            })\n\n            this.socket.on(\"GAME_STATE\", state => {\n                console.log(\"GAME_STATE\", state);\n                this.gameState = state\n            });\n\n            this.socket.on(\"PLAYER_MOVE\", command => {\n                this.gameState.players[command.playerId].position = command.position\n                this.gameState.players[command.playerId].cam      = command.camera\n            })\n\n            this.socket.on(\"ADD_ENEMY\", command => {\n                console.log('ADD_ENEMY', command)\n                this.gameState.enemies[command.enemyId] = command.enemy\n            })\n\n            this.socket.on(\"ADD_PLAYER\", command => {\n                console.log(\"ADD_PLAYER\", command);\n                this.gameState.players[command.playerId] = command.player\n            })\n\n\n            this.socket.on(\"REMOVE_ENEMY\", command => {\n                console.log(\"REMOVE ENEMY\", command);\n                delete this.gameState.enemies[command.enemyId]\n            })\n\n\n            this.socket.on(\"REMOVE_PLAYER\", command => {\n                console.log(\"REMOVE_PLAYER\", command);\n                delete this.gameState.players[command.playerId]\n            })\n        },\n\n        clientKeyPressed(key) {\n            this.socket.emit(\"CLIENT_KEYPRESSED\", key);\n        },\n\n        addEnemy() {\n            this.socket.emit(\"ADMIN_ADD_ENEMY\");\n        }\n\n    }\n}\n</script>\n"]}]}